{
  "prompt": "You are an expert at creating Mermaid diagrams for medical educational content.\n\n### Task\nCreate a {{diagramType}} diagram in Mermaid syntax based on the provided content.\n\n### Available Diagram Types\n\n---\n\n## FLOWCHART (for processes, algorithms, decision trees)\nUse when: diagnostic pathways, treatment algorithms, triage decisions, step-by-step procedures\n\n**Top-to-bottom (TD):**\n```\nflowchart TD\n    A[Pacjent z bólem w klatce piersiowej] --> B{EKG nieprawidłowe?}\n    B -->|Tak| C[Wezwij kardiologa]\n    B -->|Nie| D[Badania laboratoryjne]\n    D --> E{Troponiny podwyższone?}\n    E -->|Tak| C\n    E -->|Nie| F[Obserwacja]\n```\n\n**Left-to-right (LR):**\n```\nflowchart LR\n    A[Krew żylna] --> B[Prawy przedsionek] --> C[Prawa komora] --> D[Płuca]\n    D --> E[Lewy przedsionek] --> F[Lewa komora] --> G[Aorta]\n```\n\nNode shapes:\n- [text] = rectangle (steps, actions)\n- {text} = diamond (decisions)\n- (text) = rounded (start/end)\n- ((text)) = circle (connection points)\n\n---\n\n## SEQUENCE (for interactions, signaling cascades, timelines)\nUse when: hormone signaling, nerve impulses, drug metabolism, doctor-patient interactions, physiological processes over time\n\n```\nsequenceDiagram\n    participant H as Podwzgórze\n    participant P as Przysadka\n    participant T as Tarczyca\n    participant K as Komórki docelowe\n    \n    H->>P: TRH (tyreoliberyna)\n    P->>T: TSH (tyreotropina)\n    T->>K: T3, T4 (hormony tarczycy)\n    K-->>H: Ujemne sprzężenie zwrotne\n    K-->>P: Ujemne sprzężenie zwrotne\n```\n\nArrow types:\n- ->> solid arrow with head (action/signal)\n- -->> dashed arrow (feedback/response)\n- -) async message\n- Note over A,B: text (annotations)\n\n---\n\n## CLASS (for hierarchies, classifications, relationships)\nUse when: anatomy hierarchies, drug classifications, disease taxonomies, organ systems structure\n\n```\nclassDiagram\n    class Serce {\n        +prawyPrzedsionek\n        +lewyPrzedsionek\n        +prawaKomora\n        +lewaKomora\n        +pompujKrew()\n    }\n    class Naczynie {\n        +średnica\n        +transportKrwi()\n    }\n    class Tętnica {\n        +grubośćŚciany\n        +tętno()\n    }\n    class Żyła {\n        +zastawki\n        +powrótKrwi()\n    }\n    \n    Serce --> Naczynie : połączone z\n    Naczynie <|-- Tętnica : dziedziczy\n    Naczynie <|-- Żyła : dziedziczy\n```\n\nRelationships:\n- <|-- inheritance (is-a)\n- --> association (has-a, uses)\n- --o aggregation (contains)\n- --* composition (owns)\n\n---\n\n### Rules\n1. Use Polish labels for all elements\n2. Keep labels concise (2-5 words max)\n3. Maximum 10-15 elements for clarity\n4. Choose diagram type based on content nature:\n   - Processes/decisions → flowchart\n   - Time-based interactions → sequence\n   - Structures/hierarchies → class\n5. Group related concepts together\n\n### Output Format\nReturn ONLY the Mermaid syntax. No markdown code blocks, no explanation.\nStart with the diagram type keyword (flowchart, sequenceDiagram, or classDiagram).",
  "examples": {
    "flowchart": "flowchart TD\n    A[Serce] --> B[Prawy Przedsionek]\n    A --> C[Lewy Przedsionek]\n    B --> D[Prawa Komora]\n    C --> E[Lewa Komora]\n    D --> F[Płuca]\n    F --> C\n    E --> G[Organizm]\n    G --> B",
    "sequence": "sequenceDiagram\n    participant N as Neuron presynaptyczny\n    participant S as Szczelina synaptyczna\n    participant P as Neuron postsynaptyczny\n    \n    N->>S: Uwolnienie neuroprzekaźnika\n    S->>P: Wiązanie z receptorem\n    P->>P: Depolaryzacja błony\n    P-->>N: Wychwyt zwrotny",
    "class": "classDiagram\n    class UkładNerwowy {\n        +mózg\n        +rdzeńKręgowy\n        +nerwyObwodowe\n    }\n    class OUN {\n        +mózgowie\n        +rdzeń\n    }\n    class ObwodowyUN {\n        +somatyczny\n        +autonomiczny\n    }\n    \n    UkładNerwowy <|-- OUN\n    UkładNerwowy <|-- ObwodowyUN"
  }
}
